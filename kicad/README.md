# KiCad 設計ファイル

このフォルダには、Loutrack EMプロジェクトで使用するKiCad設計ファイルが保存されています。

## 概要

3D11-722Jコイルをブレッドボード互換のピンヘッダーに変換するためのテストボードをKiCadで設計しています。

## フォルダ構成

```
kicad/
├── README.md                              # このファイル
├── 3D11_test_Board/                       # 単体テストボード
│   ├── 3D11_test_Board.kicad_sch          # 回路図
│   ├── 3D11_test_Board.kicad_pcb          # PCB設計
│   ├── 3D11_test_Board.kicad_pro          # プロジェクト設定
│   ├── 3D11_test_Board.kicad_prl          # プロジェクトレイアウト
│   ├── 3D11_test_Board.png                # 3Dレンダリング
│   ├── garber.zip                         # ガーバーファイル
│   └── fp-info-cache                      # フットプリントキャッシュ
└── 3D11_production/                       # 量産用パネル基板
    ├── 3d11_testboard_batch.kicad_pcb     # PCB設計（パネル）
    ├── 3d11_testboard_batch.kicad_pro     # プロジェクト設定
    ├── 3d11_testboard_batch.png           # 3Dレンダリング
    └── garber.zip                         # ガーバーファイル
```

## テストボードの目的

3D11-722JはSMD部品のため、ブレッドボード（2.54mmピッチ）で直接使用できません。このテストボードは以下の機能を果たします：

- **SMD → DIP変換**: 3D11-722Jを2.54mmピッチのピンヘッダーに接続
- **ブレッドボード互換**: 標準的なブレッドボードに挿入可能
- **信号分離**: 各軸（X, Y, Z）のコイル端子を独立してアクセス可能

## ピン配置

### 基板上面（Y軸 + X軸）

```
        ┌─────────────────────────────────────┐
        │          3D11-722J                  │
        │          Test Board                 │
        │                                     │
        │  Y- [●]  Y+ [●]  X- [●]  X+ [●]    │  ← 上部
        │                                     │
        │          [コイル実装位置]           │
        │                                     │
        │  X+ [●]  X- [●]  Z+ [●]  Z- [●]    │  ← 下部
        │                                     │
        └─────────────────────────────────────┘
```

- **上部**: Y軸, X軸（Y-, Y+, X-, X+）
- **下部**: X軸, Z軸（X+, X-, Z+, Z-）
- **注意**: X軸は上部と下部の両方に存在（接続確認用）

## バージョン説明

### 3D11_test_Board（単体版）

- **用途**: プロトタイプ開発、少量製作
- **基板サイズ**: 単体基板
- **特徴**:
  - 回路図を含む完全なKiCadプロジェクト
  - テスト用の設計検証が可能

### 3D11_production（パネル版）

- **用途**: 量産、10枚同時発注
- **基板サイズ**: 10枚パネル配置
- **特徴**:
  - パネル化によるコスト削減
  - 量産向けに最適化

## 設計仕様

### 電気的特性

| 項目 | 仕様 |
|------|------|
| 入力電圧 | コイルからの誘導電圧（AC） |
| 周波数範囲 | DC〜1MHz（3D11-722JのSRFまで） |
| インピーダンス | コイルインピーダンスに準ずる |
| 絶縁耐圧 | 基板絶縁強度による |

### 機械的特性

| 項目 | 仕様 |
|------|------|
| 基板サイズ | 約30mm × 20mm（単体） |
| 層構成 | 2層基板 |
| ピンヘッダー | 2.54mmピッチ、1×4ヘッダー × 2 |
| コイル固定 | SMDパッド + はんだ固定 |

## 製造手順

### 部品調達

| 部品 | 型番 | 数量 | 備考 |
|------|------|------|------|
| 3D11-722J | - | 1個/基板 | [AliExpress](https://ja.aliexpress.com/item/1005004723068527.html) |
| ピンヘッダー | 1×4, 2.54mm | 2個/基板 | ブレッドボード用 |

### 組み立て手順

1. **基板準備**
   - KiCadでPCBを発注
   - ガーバーファイル（garber.zip）を使用

2. **部品実装**
   - 3D11-722Jを基板中央に配置
   - SMDはんだ付けを実施
   - ピンヘッダーを上下に挿入

3. **動作確認**
   - テスターで各ピン間の導通を確認
   - ショートがないことを確認

## 使用方法

### ブレッドボードへの接続

1. ピンヘッダーをブレッドボードに挿入
2. コイルの各軸端子を回路に接続
3. 電源投入前に接続を確認

### 信号接続例（M0 PoC）

```
DRV8835出力 ──→ 3D11_test_Board X+ ──→ コイルX軸
コイルX軸 ──→ 3D11_test_Board X- ──→ MCP6022入力
```

## 設計ファイルの編集

### KiCadプロジェクトを開く

1. KiCadを起動
2. `File` → `Open Project` → `.kicad_pro`ファイルを選択
3. 回路図（.kicad_sch）またはPCB（.kicad_pcb）を編集

### 回路図の編集

- ピン配置の変更
- 追加回路の設計
- フットプリントの更新

### PCBレイアウトの編集

- 配線パターンの最適化
- サイズ変更
- 層構成の変更

## 注意事項

⚠️ **設計時の注意点:**

1. **絶縁距離**: 高周波信号のため、配線間隔を十分に確保
2. **GND接続**: ノイズ対策のため、GNDプレーンを確保
3. **熱対策**: 発熱部品がある場合は放熱パターンを考慮

⚠️ **使用時の注意点:**

1. **静電気**: ESD対策のため、取り扱いに注意
2. **電源投入**: 接続ミスがないことを確認してから電源投入
3. **周波数範囲**: 3D11-722JのSRFを超えないよう注意

## 関連ドキュメント

- [3D11-722Jデータシート](../../../../documents/datasheets/3d11_coil/)
- [M0組み立てガイド](../../../../documents/assembly/m0_poc/README.md)
- [BOM](../../../../documents/bom/m0_poc/bom.md)

## 変更履歴

| 日付 | 内容 | 変更者 |
|------|------|--------|
| 2026-01-11 | 初版作成 | - |
